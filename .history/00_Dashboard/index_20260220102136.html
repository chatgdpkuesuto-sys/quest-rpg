<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MACHADUN - Ultimate Eroge TRPG Engine</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts: Shippori Mincho for a cinematic novel feel -->
    <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- üåü Browser Audio Autoplay Policy Button & Character Selection üåü -->
    <div id="init-overlay">
        <!-- Step 1: Stat Allocation -->
        <div class="init-dialog" id="stat-dialog">
            <h1 class="init-title">CHARACTER CREATION</h1>
            <p class="init-sub">- Allocate Your Stats -</p>
            <p class="init-hint">ÊÆã„Çä„Éù„Ç§„É≥„Éà: <span id="remaining-points">3</span></p>

            <div class="stat-grid">
                <div class="stat-row"><span>Power</span> <button onclick="adjStat('power', -1)">-</button> <span
                        id="val-power">0</span> <button onclick="adjStat('power', 1)">+</button></div>
                <div class="stat-row"><span>Speed</span> <button onclick="adjStat('speed', -1)">-</button> <span
                        id="val-speed">0</span> <button onclick="adjStat('speed', 1)">+</button></div>
                <div class="stat-row"><span>Tough</span> <button onclick="adjStat('tough', -1)">-</button> <span
                        id="val-tough">0</span> <button onclick="adjStat('tough', 1)">+</button></div>
                <div class="stat-row"><span>Mind</span> <button onclick="adjStat('mind', -1)">-</button> <span
                        id="val-mind">0</span> <button onclick="adjStat('mind', 1)">+</button></div>
                <div class="stat-row"><span>Charm</span> <button onclick="adjStat('charm', -1)">-</button> <span
                        id="val-charm">0</span> <button onclick="adjStat('charm', 1)">+</button></div>
                <div class="stat-row"><span>Skill</span> <button onclick="adjStat('skill', -1)">-</button> <span
                        id="val-skill">0</span> <button onclick="adjStat('skill', 1)">+</button></div>
            </div>

            <button class="char-btn" style="margin-top: 20px; width: 100%;" onclick="confirmStats()">Ê±∫ÂÆö (Next)</button>
        </div>

        <!-- Step 2: Target Selection -->
        <div class="init-dialog" id="target-dialog" style="display: none;">
            <h1 class="init-title">MACHADUN</h1>
            <p class="init-sub">- Choose your Target -</p>
            <div class="char-select-grid">
                <button class="char-btn" onclick="startGame('Aria', '„Ç¢„É™„Ç¢')">„Ç¢„É™„Ç¢</button>
                <button class="char-btn" onclick="startGame('Zena', '„Çº„Éä')">„Çº„Éä</button>
                <button class="char-btn" onclick="startGame('Elara', '„Ç®„É©„É©')">„Ç®„É©„É©</button>
                <button class="char-btn" onclick="startGame('Elize', '„Ç®„É™„Éº„Çº')">„Ç®„É™„Éº„Çº</button>
                <button class="char-btn" onclick="startGame('Yuni', '„É¶„Éã')">„É¶„Éã</button>
                <button class="char-btn" onclick="startGame('Mia', '„Éü„Ç¢')">„Éü„Ç¢</button>
            </div>
            <p class="init-hint">‚Äª „ÇØ„É™„ÉÉ„ÇØ„ÅßÈü≥Â£∞„ÅåÊúâÂäπÂåñ„Åï„Çå„ÄÅ„Ç∑„Éä„É™„Ç™„ÅåÈñãÂßã„Åó„Åæ„Åô„ÄÇ</p>
        </div>
    </div>

    <!-- ÂãïÁöÑ„Å™ËÉåÊôØCG/„Ç§„É©„Çπ„Éà„Ç≥„É≥„ÉÜ„Éä -->
    <div id="bg-container"></div>

    <!-- ÁãÇÊ∞ó„ÉªÁô∫ÊÉÖ„Ç®„Éï„Çß„ÇØ„ÉàÁî®„Ç™„Éº„Éê„Éº„É¨„Ç§ -->
    <div id="blood-overlay"></div>
    <div id="glitch-overlay"></div>

    <!-- Èü≥Â£∞„Éó„É¨„Ç§„É§„Éº -->
    <audio id="voice-player" preload="none"></audio>

    <!-- UI „É¨„Ç§„É§„Éº -->
    <div id="ui-layer">

        <!-- Â∑¶‰∏äÔºö„Ç≠„É£„É©„ÇØ„Çø„ÉºÊÉÖÂ†±ÔºÜ„Çπ„ÉÜ„Éº„Çø„ÇπÁ∞°ÊòìË°®Á§∫ -->
        <div id="character-info-panel">
            <h2 id="char-name">No Data</h2>
            <div id="char-attributes"></div>
        </div>

        <!-- Âè≥‰∏äÔºö„Ç≤„Éº„Ç∏Á≥ªË£ÖÈ£æÔºà‰æµÈ£üÂ∫¶„ÄÅÁµ∂ÊúõÂ∫¶„Å™„Å©Ôºâ -->
        <div id="status-panel">
            <div class="status-bar-container">
                <span class="status-label">Âø´ÊÑü / LUST</span>
                <div class="progress-bar">
                    <div id="arousal-fill" class="progress-fill arousal"></div>
                </div>
            </div>
            <div class="status-bar-container">
                <span class="status-label">Áµ∂Êúõ / DESPAIR</span>
                <div class="progress-bar">
                    <div id="despair-fill" class="progress-fill despair"></div>
                </div>
            </div>
        </div>

        <!-- ÁîªÈù¢‰∏≠Â§Æ„Äú‰∏ãÈÉ®Ôºö„Ç∑„Éç„Éû„ÉÜ„Ç£„ÉÉ„ÇØ„Å™„É¢„Éé„É≠„Éº„Ç∞ÔºàGM„ÉÜ„Ç≠„Çπ„ÉàÔºâ -->
        <div id="monologue-container">
            <!-- JavaScript„Åß„ÉÜ„Ç≠„Çπ„Éà„ÅåÊµÅ„ÅóËæº„Åæ„Çå„Çã -->
        </div>

        <!-- ÁîªÈù¢‰∏ãÈÉ®Ôºö„Ç≠„É£„É©„ÇØ„Çø„Éº„ÅÆ„Çª„É™„ÉïÔºà„Éé„Éô„É´„Ç≤„Éº„É†È¢®„Éï„É´„ÉÜ„Ç≠„Çπ„ÉàÔºâ -->
        <div id="dialogue-box">
            <div id="dialogue-name"></div>
            <div id="dialogue-text"></div>
        </div>

    </div>

    <!-- „Ç§„É≥„Çø„É©„ÇØ„Ç∑„Éß„É≥Â±§Ôºà„ÇØ„É™„ÉÉ„ÇØÂèñÂæóÁî®„ÄÅÈÄèÊòéÔºâ -->
    <!-- „É¶„Éº„Ç∂„Éº„ÅÆË¶ÅÊúõÈÄö„Çä„ÄÅ„ÇØ„É™„ÉÉ„ÇØ„ÅßÁîªÂÉè„ÇíÂ§â„Åà„Åö„ÄÅÁä∂ÊÖã„ÇíÊäï„Åí„Çã„Å†„Åë„Å´ÁâπÂåñ„Åô„Çã -->
    <div id="interaction-layer"></div>

    <!-- „Çπ„ÇØ„É™„Éó„ÉàÁæ§ -->
    <script src="js/engine.js"></script>
    <script src="js/interaction.js"></script>
</body>

</html>